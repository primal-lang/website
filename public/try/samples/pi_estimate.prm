/*
  Input: the number of terms to use in the approximation
  Output: an estimate of Pi using the Leibniz series (pi/4 = 1 - 1/3 + 1/5 - 1/7 + ...)
*/

piEstimate(terms) = 4 * piEstimate.helper(0, terms, 0)

piEstimate.helper(i, terms, sum) =
    if (i >= terms)
        sum
    else if (num.isEven(i))
        piEstimate.helper(i + 1, terms, sum + 1 / (2 * i + 1))
    else
        piEstimate.helper(i + 1, terms, sum - 1 / (2 * i + 1))

main = piEstimate(10)